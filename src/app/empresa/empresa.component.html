<app-menu></app-menu>
<br><br>

<div class="bg-gray-300 p-6">
  <div *ngIf="option==0" class="flex justify-center">
    <div class="" name="listado_principal" style="width: 80%;">
      <div class="relative overflow-x-auto">
        <br>
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg text-gray-700 bg-gray-50">
          <div class="flex justify-center mt-5 mb-3">
            <span class="px-3 py-3 ">Buscar empresas: </span>
            <input [(ngModel)]="searchTerm" placeholder="Buscar..." class="w-1/3 p-2 border rounded"
              (input)="onSearch()" />
            <span class="px-3 py-3 ">Buscar por categoría: </span>
            <select [(ngModel)]="empresa.categories[0]" name="categories" (ngModelChange)="orderbyCategory($event)"
              class="w-1/5 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              <option *ngFor="let category of categories" [value]="category.id" [ngValue]="category">{{
                category.category }}</option>
            </select>

            <button
              class="bg-[#6EC4A7] hover:bg-blue-200 text-white hover:text-black font-bold py-2 px-4 rounded transition duration-300 ml-2"
              (click)="changeVisibility(1)">
              Nueva empresa
            </button>
          </div>
          <table class="w-full text-sm text-left rtl:text-right text-gray-500 ">
            <thead class="text-xs text-gray-700 bg-gray-50 ">

              <tr>
                <th scope="col" class="px-6 py-3 cursor-pointer" (click)="setSort('name')">
                  Nombre
                </th>
                <th scope="col" class="px-6 py-3 cursor-pointer" (click)="setSort('legal_document')">
                  NIF / CIF
                </th>
                <th scope="col" class="px-6 py-3 cursor-pointer" (click)="setSort('email')">
                  Correo electrónico
                </th>
                <th scope="col" class="px-6 py-3 cursor-pointer" (click)="setSort('phone')">
                  Teléfonos
                </th>
                <th scope="col" class="px-6 py-3">
                 
                </th>

                
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="canElementos=='0'">
                <div class="text-center text-lg w-full text-center">
                  <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">No hay registros para este
                    elemento</label>
                </div>
              </tr>





              <tr *ngFor="let empresa of filtered_empresas" class="bg-white border-b   hover:bg-gray-50 ">

                <th scope="row" class="flex items-center px-6 py-4 text-gray-900 whitespace-nowrap ">
                  <div class="ps-3">
                    <div class="text-base font-semibold">{{ truncateText(empresa.name, 15) }}</div>

                  </div>
                </th>
                <td class="px-6 py-4">
                  {{ empresa.legal_document }}
                </td>
                <td class="px-6 py-4">
                  <div *ngIf="empresa.email">
                    {{ empresa.email.email }}
                  </div>

                </td>
                <td class="px-6 py-4">
                  {{ empresa.phone }}
                </td>
                
                <td class="px-6 py-4">
                  <div class="flex">
                    <div class="flex-1">
                      <img src="assets/View.svg" style="width: 24px;" class="icon w-4 h-4 ml-1 mr-2"
                      (click)="showEnterprise(2,empresa.enterprise_id)" class="cursor-pointer">
                    </div>

                    <div class="flex-1">
                      <img src="assets/Edit.svg" style="width: 24px;" class="icon w-4 h-4 ml-1 mr-2"
                                    (click)="showEnterprise(3,empresa.enterprise_id)" class="cursor-pointer">
                    </div>

                  </div>
                 
                 
                
                 
                </td>

                


              </tr>

            </tbody>
          </table>
        </div>


     
        <nav aria-label="Page navigation example" class="">
          <div class="flex">
            <ul class="inline-flex -space-x-px text-base h-10 w-full">
              <li class="w-full">
                <a (click)="previusPage()"
                  class=" cursor-pointer flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700  ">Anterior</a>
              </li>
              <li class="w-full">
                <a
                  class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">1</a>
              </li>
              <li class="w-full">
                <a
                  class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">...</a>
              </li>

              <li class="w-full">
                <a
                  class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">{{canElementos}}</a>
              </li>

              <li class="w-full">
                <a (click)="nextPage()"
                  class="cursor-pointer flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 ">Siguiente</a>
              </li>
            </ul>
          </div>
        </nav>





      </div>
    </div>
  </div>


  <div *ngIf="option==1" class="flex justify-center items-center h-full">
    <div class="bg-white rounded shadow-lg p-6" style="width: 80%">
      <div class="flex justify-between">
        <div (click)="changeVisibility(0)" class="cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
            <path d="m274-450 248 248-42 42-320-320 320-320 42 42-248 248h526v60H274Z" readonly />
          </svg>
        </div>
      
      </div>
      <br>
   
    <div class="grid gap-6 text-sm grid-cols-2 md:grid-cols-2">
    
      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Nombre</label>
        <input [(ngModel)]="empresa.name" name="name" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>

      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Dirección de pagina
          web</label>
        <input [(ngModel)]="empresa.web_page_url" name="web_page_url" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>

      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Nombre del banco</label>
        <input [(ngModel)]="empresa.bank_details.bank_name" name="bank_name" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>

      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Cuenta de banco</label>
        <input [(ngModel)]="empresa.bank_details.account_number" name="account_number" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>

      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">DNI / CIF</label>
        <input [(ngModel)]="empresa.legal_document" name="legal_document" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>





      <div class="px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Código de
          Contabilidad</label>
        <input [(ngModel)]="empresa.finance_details.accounting_code" name="accounting_code" type="text"
          class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          required>
      </div>
      <br>

      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Correos</label>

      <div *ngFor="let email of empresa.emails_associated; let i = index" class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Correo</label>
          <input [(ngModel)]="email.email" name="email-{{ i }}" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Descripción de
            correo</label>
          <input [(ngModel)]="email.description" name="email-description-{{ i }}" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>


      </div>
      <div class="w-full px-3 mb-6 md:mb-0 flex justify-center mt-3">

        <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
          (click)="removeEmail()">
          <i class="fas fa-minus">Remover correo</i>
        </button>
        <button type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
          (click)="addEmail()">
          <i class="fas fa-plus">Agregar correo</i>
        </button>
      </div>




      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Teléfonos</label>

      <div *ngFor="let telefono of empresa.phones_associated; let i = index" class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Numero de
            teléfono</label>
          <input [(ngModel)]="telefono.number" name="number-{{ i }}" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Descripción del
            teléfono</label>
          <input [(ngModel)]="telefono.description" name="number-description-{{ i }}" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>


      </div>
      <div class="w-full px-3 mb-6 md:mb-0 flex justify-center mt-3">

        <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
          (click)="removePhone()">
          <i class="fas fa-minus">Remover teléfono</i>
        </button>
        <button type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
          (click)="addPhone()">
          <i class="fas fa-plus">Agregar teléfono</i>
        </button>
      </div>





      <br>

      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Dirección</label>

      <div class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Ciudad</label>
          <input [(ngModel)]="empresa.addresses[0].city" name="city" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Código postal</label>
          <input [(ngModel)]="empresa.addresses[0].zip_code" name="zip_code" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
      </div>

      <div class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Provincia/Estado</label>
          <input [(ngModel)]="empresa.addresses[0].state" name="state" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">País</label>
          <input [(ngModel)]="empresa.addresses[0].country" name="country" type="text"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
            required>
        </div>
      </div>




      <div class="select-input-data">
        <label class="block text-black">Categoría</label>
        <div class="input-data">
          <select [(ngModel)]="empresa.categories[0]" name="categories"
            class="w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
            <option *ngFor="let category of categories" [value]="category.id">{{ category.category }}</option>
          </select>
        </div>
      </div>

  




    </div>


    <div
    class="flex w-full justify-center rounded bg-primary p-3 font-medium reputation-container button-38 mt-8 mb-8">
    
    
    <button type="button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
    (click)="createCompany()"
    >
    <i class="fas fa-plus">Guardar</i>
  </button>
  </div>
  </div>

     <!-- <div class="w-full max-w-lg">

     <form class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full">
          <div class="flex justify-between items-center mt-8">
            <h1 class="text-2xl font-bold">Crear Empresa:</h1>
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300"
              (click)="changeVisibility(0)">
              Ver empresas
            </button>
          </div>
          <br>

          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Nombre</label>
            <input [(ngModel)]="empresa.name" name="name" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>

          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Dirección de pagina
              web</label>
            <input [(ngModel)]="empresa.web_page_url" name="web_page_url" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>

          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Nombre del banco</label>
            <input [(ngModel)]="empresa.bank_details.bank_name" name="bank_name" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>

          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Cuenta de banco</label>
            <input [(ngModel)]="empresa.bank_details.account_number" name="account_number" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>

          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">DNI / CIF</label>
            <input [(ngModel)]="empresa.legal_document" name="legal_document" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>





          <div class="px-3 mb-6 md:mb-0">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Código de
              Contabilidad</label>
            <input [(ngModel)]="empresa.finance_details.accounting_code" name="accounting_code" type="text"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
              required>
          </div>
          <br>

          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Correos</label>

          <div *ngFor="let email of empresa.emails_associated; let i = index" class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Correo</label>
              <input [(ngModel)]="email.email" name="email-{{ i }}" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Descripción de
                correo</label>
              <input [(ngModel)]="email.description" name="email-description-{{ i }}" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>


          </div>
          <div class="w-full px-3 mb-6 md:mb-0 flex justify-center mt-3">

            <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
              (click)="removeEmail()">
              <i class="fas fa-minus">Remover correo</i>
            </button>
            <button type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
              (click)="addEmail()">
              <i class="fas fa-plus">Agregar correo</i>
            </button>
          </div>




          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Teléfonos</label>

          <div *ngFor="let telefono of empresa.phones_associated; let i = index" class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Numero de
                teléfono</label>
              <input [(ngModel)]="telefono.number" name="number-{{ i }}" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Descripción del
                teléfono</label>
              <input [(ngModel)]="telefono.description" name="number-description-{{ i }}" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>


          </div>
          <div class="w-full px-3 mb-6 md:mb-0 flex justify-center mt-3">

            <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
              (click)="removePhone()">
              <i class="fas fa-minus">Remover teléfono</i>
            </button>
            <button type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
              (click)="addPhone()">
              <i class="fas fa-plus">Agregar teléfono</i>
            </button>
          </div>





          <br>

          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Dirección</label>

          <div class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Ciudad</label>
              <input [(ngModel)]="empresa.addresses[0].city" name="city" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Código postal</label>
              <input [(ngModel)]="empresa.addresses[0].zip_code" name="zip_code" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
          </div>

          <div class="flex flex-wrap -mx-3 mb-6">
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Provincia/Estado</label>
              <input [(ngModel)]="empresa.addresses[0].state" name="state" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">País</label>
              <input [(ngModel)]="empresa.addresses[0].country" name="country" type="text"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                required>
            </div>
          </div>




          <div class="select-input-data">
            <label class="block text-black">Categoría</label>
            <div class="input-data">
              <select [(ngModel)]="empresa.categories[0]" name="categories"
                class="w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
                <option *ngFor="let category of categories" [value]="category.id">{{ category.category }}</option>
              </select>
            </div>
          </div>

          <div
            class="flex w-full justify-center rounded bg-primary p-3 font-medium reputation-container button-38 mt-8 mb-8">
            <button (click)="createCompany()">Guardar</button>
          </div>
        </div>
      </form> 
    </div>-->
  </div>


  <div *ngIf="option==2" class="flex justify-center items-center h-full">

    <div class="bg-white rounded shadow-lg p-6" style="width: 80%">
      <div class="flex justify-between">
        <div (click)="changeVisibility(0)" class="cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
            <path d="m274-450 248 248-42 42-320-320 320-320 42 42-248 248h526v60H274Z" />
          </svg>
        </div>
        <div (click)="showEnterprise(3,empresa.enterprise_id)" class="cursor-pointer">
          <img src="assets/Edit.svg" style="width: 24px;" class="icon w-4 h-4 ml-1 mr-2" class="cursor-pointer">

        </div>
      </div>
      <br>
      <div class="block">
        <div class="w-full">
          <ul class="flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row">
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(1)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 1, 'text-white bg-gray-600': openTab === 1}">
                <i class="fas fa-space-shuttle text-base mr-1"></i> Datos generales
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(2)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 2, 'text-white bg-gray-600': openTab === 2}">
                <i class="fas fa-cog text-base mr-1"></i> Direcciones

              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(3)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 3, 'text-white bg-gray-600': openTab === 3}">
                <i class="fas fa-briefcase text-base mr-1"></i> Emails asociados
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(4)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 4, 'text-white bg-gray-600': openTab === 4}">
                <i class="fas fa-briefcase text-base mr-1"></i> Teléfonos asociados
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(5)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 5, 'text-white bg-gray-600': openTab === 5}">
                <i class="fas fa-briefcase text-base mr-1"></i> Categorías
              </a>
            </li>

            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(6)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 6, 'text-white bg-gray-600': openTab === 6}">
                <i class="fas fa-briefcase text-base mr-1"></i> Tarifas
              </a>
            </li>
          </ul>
          <div class="flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
            <div class="px-4 py-5 flex-auto">
              <div class="tab-content tab-space">
                <div [ngClass]="{'hidden': openTab !== 1, 'block': openTab === 1}">
                  <label for="full_name"> Número: CC{{company.enterprise_id}}</label>
                  <div class="grid gap-6 text-sm grid-cols-2 md:grid-cols-2">
                    <div class="row-auto">
                      <div class="md:col-span-4">
                        <label for="name">Nombre:</label>
                        <input type="text" id="name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.name}}" readonly />
                      </div>

                      <div class="md:col-span-2">
                        <label for="web">Dirección de pagina web</label>
                        <input type="text" name="web" id="web" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.web_page_url}}" readonly />
                      </div>
                    </div>

                    <div class="row-auto">
                      <div class="md:col-span-4">
                        <label for="name">NIF/CIF:</label>
                        <input type="text" id="name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.legal_document}}" readonly />
                      </div>

                      <div class="md:col-span-2">
                        <label for="web">Teléfono principal:</label>
                        <input type="text" name="web" id="web" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.phones_associated[0].phone_number}}" readonly />
                      </div> 
                    </div>

                    <div class="row-auto">
                      <label for="address">-</label>
                      <div class="md:col-span-5">

                        <label for="email">Nombre del banco:</label>
                        <input type="text" name="email" id="email"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.bank_name}}" readonly />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address">Abreviatura:</label>
                        <input type="text" id="abbr" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.bank_abbr}}" readonly />
                      </div>
                    </div>


                    <div class="row-auto">
                      <label for="address"> &nbsp;</label>
                      <div class="md:col-span-3">
                        <label for="city">Número de cuenta:</label>
                        <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.account_number}}" readonly />
                      </div>

                      <div class="md:col-span-3">
                        <label for="city">Categoría principal:</label>
                        <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.categories[0].category}}" readonly />
                      </div>

                      
                    </div>

                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 2, 'block': openTab === 2}">

                  <div *ngIf="company.addresses.length == 0">
                    <label for="email-mail">No posee direcciones asociadas</label>
                  </div>

                  <div class="text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700">
                    <ul class="flex flex-wrap -mb-px">
                      <li class="mr-2" *ngFor="let direccion of company.addresses; let i = index">
                        <a (click)="setActiveTab(i)" [ngClass]="{'border-b-2 border-blue-500': activeTab === i}" class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 cursor-pointer">
                          Dirección {{i + 1}}
                        </a>
                      </li>
                    </ul>
                  </div>
                  
                  <div *ngFor="let direccion of company.addresses; let i = index">
                    <div *ngIf="activeTab === i">
                     
                      <div>
                        <div class="md:col-span-2">
                          <label for="address-street-{{i}}">Calle / Avenida</label>
                          <input type="text" id="address-street-{{i}}"
                            class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                            [value]="direccion.street"
                            placeholder="" readonly />
                        </div>
                        <div class="md:col-span-2">
                          <label for="address-city-{{i}}">Ciudad</label>
                          <input type="text" id="address-city-{{i}}"
                            class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                            [value]="direccion.city"
                            placeholder="" readonly />
                        </div>
                        <div class="md:col-span-2">
                          <label for="address-country-{{i}}">País / región</label>
                          <input type="text" id="address-country-{{i}}"
                            class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                            [value]="direccion.country"
                            placeholder="" readonly />
                        </div>
                        <div class="md:col-span-2">
                          <label for="address-state-{{i}}">Estado / Provincia</label>
                          <input type="text" id="address-state-{{i}}"
                            class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                            [value]="direccion.state"
                            placeholder="" readonly />
                        </div>
                        <div class="md:col-span-1">
                          <label for="zipcode-{{i}}">Zipcode</label>
                          <input type="text" id="zipcode-{{i}}"
                            class="transition-all flex items-center h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                            [value]="direccion.zip"
                            placeholder="" readonly />
                        </div>
                      </div>
                    </div>
                  </div>
                  

                  <!-- <div *ngFor="let direccion of company.addresses; let i = index">
                    <h3 class="text-lg font-medium">Dirección {{i+1}}</h3>
                    <div>



                      <div class="md:col-span-2">
                        <label for="address-street">Calle / Avenida</label>
                        <input type="text" name="address-street" id="address-street"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.street}}"
                          placeholder="" readonly />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address-city">Ciudad</label>
                        <input type="text" name="address-city" id="address-city"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.city}}"
                          placeholder="" readonly />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address-country">País / región</label>

                        <input type="text" name="address-country" id="address-country"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.country}}"
                          placeholder="" readonly />


                      </div>

                      <div class="md:col-span-2">
                        <label for="address-state">Estado / Provincia</label>
                        <input type="text" name="address-state" id="address-state"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.state}}"
                          placeholder="" readonly />

                      </div>

                      <div class="md:col-span-1">
                        <label for="zipcode">Zipcode</label>
                        <input type="text" name="zipcode" id="zipcode"
                          class="transition-all flex items-center h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          placeholder="" value="{{direccion.zip}}" readonly />
                      </div>
                    </div>



                  </div> -->
                </div>
                <div [ngClass]="{'hidden': openTab !== 3, 'block': openTab === 3}">
                  <div class="border-t border-gray-300 my-4"></div>


                  <div *ngIf="company.emails_associated.length == 0">
                    <label for="email-mail">No posee email asociado</label>
                  </div>

                  <div *ngFor="let email of company.emails_associated; let i = index">



                    <div class="md:col-span-2">
                      <label for="email-mail">Email ({{email.description}}):</label>
                      <input type="text" name="email-mail" id="email-mail"
                        class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{email.email}}" placeholder=""
                        readonly />
                    </div>
                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 4, 'block': openTab === 4}">
                  <div *ngIf="company.phones_associated.length == 0">
                    <label for="email-mail">No posee telefonos asociados</label>
                  </div>
                  <div *ngFor="let phones of company.phones_associated; let i = index">
                    <h3 class="text-lg font-medium">Teléfono ({{i+1}}):</h3>
                    <div class="md:col-span-2">
                      <label for="city">Teléfono {{phones.description}}:</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{phones.phone_number}}" placeholder="" readonly />
                    </div>

                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 5, 'block': openTab === 5}">
                  <div *ngIf="company.categories.length == 0">
                    <label for="email-mail">No posee categorías asociadas</label>
                  </div>
                  <div *ngFor="let categoria of company.categories; let i = index">



                    <div class="md:col-span-2">
                      <label for="city">Categoría</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{categoria.category}}" placeholder="" readonly />
                    </div>

                  </div>
                </div>

                <div [ngClass]="{'hidden': openTab !== 6, 'block': openTab === 6}">
                 <!--  <label for="email-mail">No posee tarifas asociadas</label>
                  <div *ngIf="company.categories.length == 0">
                    <label for="email-mail">No posee categorías asociadas</label>
                  </div>
                  <div *ngFor="let categoria of company.categories; let i = index">



                    <div class="md:col-span-2">
                      <label for="city">Categoría</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{categoria.category}}" placeholder="" readonly />
                    </div>

                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>

    </div>
  </div>

  <div *ngIf="option==3" class="flex justify-center items-center h-full">

    <div class="bg-white rounded shadow-lg p-6" style="width: 80%">
      <div class="flex justify-between">
        <div (click)="openModal('changeVisibility',0)" class="cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
            <path d="m274-450 248 248-42 42-320-320 320-320 42 42-248 248h526v60H274Z" />
          </svg>
        </div>
        <!-- <div (click)="showEnterprise(2,empresa.enterprise_id)" class="cursor-pointer">
          <img src="assets/View.svg" style="width: 24px;" class="icon w-4 h-4 ml-1 mr-2" class="cursor-pointer">

        </div> -->
      </div>
      <br>
      <div class="block">
        <div class="w-full">
          <ul class="flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row">
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(1)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 1, 'text-white bg-gray-600': openTab === 1}">
                <i class="fas fa-space-shuttle text-base mr-1"></i> Datos generales
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(2)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 2, 'text-white bg-gray-600': openTab === 2}">
                <i class="fas fa-cog text-base mr-1"></i> Direcciones

              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(3)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 3, 'text-white bg-gray-600': openTab === 3}">
                <i class="fas fa-briefcase text-base mr-1"></i> Emails asociados
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(4)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 4, 'text-white bg-gray-600': openTab === 4}">
                <i class="fas fa-briefcase text-base mr-1"></i> Teléfonos asociados
              </a>
            </li>
            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(5)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 5, 'text-white bg-gray-600': openTab === 5}">
                <i class="fas fa-briefcase text-base mr-1"></i> Categorías
              </a>
            </li>

            <li class="-mb-px mr-2 last:mr-0 flex-auto text-center">
              <a class="text-xs font-bold  px-5 py-3 shadow-lg rounded block leading-normal cursor-pointer"
                (click)="toggleTabs(6)"
                [ngClass]="{'text-gray-600 bg-white': openTab !== 6, 'text-white bg-gray-600': openTab === 6}">
                <i class="fas fa-briefcase text-base mr-1"></i> Tarifas
              </a>
            </li>
          </ul>
          <div class="flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
            <div class="px-4 py-5 flex-auto">
              <div class="tab-content tab-space">
                <div [ngClass]="{'hidden': openTab !== 1, 'block': openTab === 1}">
                  <label for="full_name"> Número: CC{{company.enterprise_id}}</label>
                  <div class="grid gap-6 text-sm grid-cols-2 md:grid-cols-2">
                    <div class="row-auto">
                      <div class="md:col-span-4">
                        <label for="name">Nombre:</label>
                        <input type="text" id="name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.name}}"  />
                      </div>

                      <div class="md:col-span-2">
                        <label for="web">Dirección de pagina web</label>
                        <input type="text" name="web" id="web" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.web_page_url}}"  />
                      </div>
                    </div>

                    <div class="row-auto">
                      <div class="md:col-span-4">
                        <label for="name">NIF/CIF:</label>
                        <input type="text" id="name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.legal_document}}"  />
                      </div>

                      <div class="md:col-span-2">
                        <label for="web">Teléfono principal:</label>
                        <input type="text" name="web" id="web" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.phones_associated[0].phone_number}}"  />
                      </div> 
                    </div>

                    <div class="row-auto">
                      <label for="address">-</label>
                      <div class="md:col-span-5">

                        <label for="email">Nombre del banco:</label>
                        <input type="text" name="email" id="email"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.bank_name}}"  />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address">Abreviatura:</label>
                        <input type="text" id="abbr" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.bank_abbr}}"  />
                      </div>
                    </div>


                    <div class="row-auto">
                      <label for="address"> &nbsp;</label>
                      <div class="md:col-span-3">
                        <label for="city">Número de cuenta:</label>
                        <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.bank_details.account_number}}"  />
                      </div>

                      <div class="md:col-span-3">
                        <label for="city">Categoría principal:</label>
                        <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          value="{{company.categories[0].category}}"  />
                      </div>

                      
                    </div>

                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 2, 'block': openTab === 2}">

                  <div *ngIf="company.addresses.length == 0">
                    <label for="email-mail">No posee direcciones asociadas</label>
                  </div>
                  <div *ngFor="let direccion of company.addresses; let i = index">
                    <h3 class="text-lg font-medium">Dirección {{i+1}}</h3>
                    <div>



                      <div class="md:col-span-2">
                        <label for="address-street">Calle / Avenida</label>
                        <input type="text" name="address-street" id="address-street"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.street}}"
                          placeholder=""  />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address-city">Ciudad</label>
                        <input type="text" name="address-city" id="address-city"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.city}}"
                          placeholder=""  />
                      </div>

                      <div class="md:col-span-2">
                        <label for="address-country">País / región</label>

                        <input type="text" name="address-country" id="address-country"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.country}}"
                          placeholder=""  />


                      </div>

                      <div class="md:col-span-2">
                        <label for="address-state">Estado / Provincia</label>
                        <input type="text" name="address-state" id="address-state"
                          class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.state}}"
                          placeholder=""  />

                      </div>

                      <div class="md:col-span-1">
                        <label for="zipcode">Zipcode</label>
                        <input type="text" name="zipcode" id="zipcode"
                          class="transition-all flex items-center h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                          placeholder="" value="{{direccion.zip}}"  />
                      </div>
                    </div>



                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 3, 'block': openTab === 3}">
                  <div class="border-t border-gray-300 my-4"></div>


                  <div *ngIf="company.emails_associated.length == 0">
                    <label for="email-mail">No posee email asociado</label>
                  </div>

                  <div *ngFor="let email of company.emails_associated; let i = index">



                    <div class="md:col-span-2">
                      <label for="email-mail">Email ({{email.description}}):</label>
                      <input type="text" name="email-mail" id="email-mail"
                        class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{email.email}}" placeholder=""
                         />
                    </div>
                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 4, 'block': openTab === 4}">
                  <div *ngIf="company.phones_associated.length == 0">
                    <label for="email-mail">No posee telefonos asociados</label>
                  </div>
                  <div *ngFor="let phones of company.phones_associated; let i = index">
                    <h3 class="text-lg font-medium">Teléfono ({{i+1}}):</h3>
                    <div class="md:col-span-2">
                      <label for="city">Teléfono {{phones.description}}:</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{phones.phone_number}}" placeholder=""  />
                    </div>

                  </div>
                </div>
                <div [ngClass]="{'hidden': openTab !== 5, 'block': openTab === 5}">
                  <div *ngIf="company.categories.length == 0">
                    <label for="email-mail">No posee categorías asociadas</label>
                  </div>
                  <div *ngFor="let categoria of company.categories; let i = index">



                    <div class="md:col-span-2">
                      <label for="city">Categoría</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{categoria.category}}" placeholder=""  />
                    </div>

                  </div>
                </div>

                <div [ngClass]="{'hidden': openTab !== 6, 'block': openTab === 6}">
                 <!-- <label for="email-mail">No posee tarifas asociadas</label>
                   <div *ngIf="company.categories.length == 0">
                    <label for="email-mail">No posee categorías asociadas</label>
                  </div>
                  <div *ngFor="let categoria of company.categories; let i = index">



                    <div class="md:col-span-2">
                      <label for="city">Categoría</label>
                      <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                        value="{{categoria.category}}" placeholder=""  />
                    </div>

                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="w-full px-3 mb-6 md:mb-0 flex justify-center mt-3 space-x-2">

          <button type="button" class="bg-yellow-400 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded"
            (click)="showEnterprise(2,empresa.enterprise_id)">
            <i class="fas fa-minus">Descartar cambios</i>
          </button>
          <button type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
            (click)="saveChanges(company.enterprise_id)">
            <i class="fas fa-plus">Guardar cambios</i>
          </button>
        </div>
  
      </div>
      <br>

    </div>

    <!-- <div class="bg-white rounded shadow-lg p-6" style="width: 80%">
      <div class="flex justify-between">
        <div (click)="changeVisibility(0)" class="cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
            <path d="m274-450 248 248-42 42-320-320 320-320 42 42-248 248h526v60H274Z" />
          </svg>
        </div>
        <div (click)="showEnterprise(2,empresa.enterprise_id)" class="cursor-pointer">
          <img src="assets/View.svg" style="width: 24px;" class="icon w-4 h-4 ml-1 mr-2" class="cursor-pointer">
        </div>
      </div>
      <br>


      <div>

        <div class="flex justify-between items-center">
          <h2 class="text-lg font-medium">Datos generales:</h2>
        </div>
        <div class="border-t border-gray-300 my-4"></div>


        <div>



          <label for="full_name"> Número: CC{{company.enterprise_id}}</label>
          <div class="grid gap-6 text-sm grid-cols-2 md:grid-cols-2">

            <div class="md:col-span-3">
              <label for="name">Nombre:</label>
              <input type="text" id="name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                value="{{company.name}}" />
            </div>

            <div class="md:col-span-2">
              <label for="web">Dirección de pagina web</label>
              <input type="text" name="web" id="web" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                value="{{company.web_page_url}}" />
            </div>


            <label for="address">Detalles bancarios:</label>
            <div class="md:col-span-5">

              <label for="email">Nombre:</label>
              <input type="text" name="email" id="email" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                value="{{company.bank_details.bank_name}}" />
            </div>


            <div class="md:col-span-2">
              <label for="address">Abreviatura:</label>
              <input type="text" id="abbr" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                value="{{company.bank_details.bank_abbr}}" />
            </div>

            <div class="md:col-span-3">
              <label for="city">Número de cuenta:</label>
              <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                value="{{company.bank_details.account_number}}" />
            </div>
          </div>

        </div>





        <div class=" ">

          <div class="flex justify-between items-center">
            <h2 class="text-lg font-medium">Direcciones:</h2>
            <button class="text-blue-500" (click)="toggleItem(1)">{{ expanded_item[1] ? 'Ocultar' : 'Mostrar' }}</button> 
          </div>
          <div class="border-t border-gray-300 my-4"></div>


          <div>

            <div *ngFor="let direccion of company.addresses; let i = index">
              <h3 class="text-lg font-medium">Dirección {{i+1}}</h3>
              <div>



                <div class="md:col-span-2">
                  <label for="address-street">Calle / Avenida</label>
                  <input type="text" name="address-street" id="address-street"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.street}}"
                    placeholder="" />
                </div>

                <div class="md:col-span-2">
                  <label for="address-city">Ciudad</label>
                  <input type="text" name="address-city" id="address-city"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.city}}" placeholder="" />
                </div>

                <div class="md:col-span-2">
                  <label for="address-country">País / región</label>

                  <input type="text" name="address-country" id="address-country"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.country}}"
                    placeholder="" />


                </div>

                <div class="md:col-span-2">
                  <label for="address-state">Estado / Provincia</label>
                  <input type="text" name="address-state" id="address-state"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{direccion.state}}"
                    placeholder="" />

                </div>

                <div class="md:col-span-1">
                  <label for="zipcode">Zipcode</label>
                  <input type="text" name="zipcode" id="zipcode"
                    class="transition-all flex items-center h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                    placeholder="" value="{{direccion.zip}}" />
                </div>
              </div>



            </div>
          </div>
        </div>



        <div>
          <div class="flex justify-between items-center">
            <h2 class="text-lg font-medium">Emails asociados:</h2>
            <button class="text-blue-500" (click)="toggleItem(2)">{{ expanded_item[2] ? 'Ocultar' : 'Mostrar' }}</button> 
          </div>
          <div class="border-t border-gray-300 my-4"></div>

          <div>
            <div class="border-t border-gray-300 my-4"></div>



            <div *ngFor="let email of company.emails_associated; let i = index">


              <div class="md:col-span-3">
                <label for="email-description">Descripción</label>
                <input type="text" name="email-description" id="email-description"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{email.description}}"
                  placeholder="" />
              </div>

              <div class="md:col-span-2">
                <label for="email-mail">Email</label>
                <input type="text" name="email-mail" id="email-mail"
                  class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{email.email}}" placeholder="" />
              </div>
            </div>
          </div>
        </div>
        <div>


          <div class="flex justify-between items-center">
            <h2 class="text-lg font-medium">Teléfonos asociados:</h2>
          <button class="text-blue-500" (click)="toggleItem(3)">{{ expanded_item[3] ? 'Ocultar' : 'Mostrar' }}</button> 
          </div>
          <div class="border-t border-gray-300 my-4"></div>

          <div>


            <div *ngFor="let phones of company.phones_associated; let i = index">
              <h3 class="text-lg font-medium">Teléfono {{i+1}}</h3>
              <div class="md:col-span-3">
                <label for="address">Descripción</label>
                <input type="text" name="address" id="address" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value="{{phones.description}}" placeholder="" />
              </div>

              <div class="md:col-span-2">
                <label for="city">Teléfono:</label>
                <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value="{{phones.phone_number}}" placeholder="" />
              </div>

            </div>
          </div>
        </div>
        <div>


          <div class="flex justify-between items-center">
            <h2 class="text-lg font-medium">Categorías:</h2>
             <button class="text-blue-500" (click)="toggleItem(4)">{{ expanded_item[4] ? 'Ocultar' : 'Mostrar' }}</button> 
          </div>
          <div class="border-t border-gray-300 my-4"></div>

          <div>


            <div *ngFor="let categoria of company.categories; let i = index">

            <div class="md:col-span-3">
                          <label for="address">Descripción</label>
                          <input type="text" name="address" id="address"
                            class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" value="{{categoria.description}}"
                            placeholder="" readonly/>
                        </div>

              <div class="md:col-span-2">
                <label for="city">Categoría</label>
                <input type="text" name="city" id="city" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                  value="{{categoria.category}}" placeholder="" />
              </div>

            </div>
          </div>
        </div>






      </div>
      <div class="border-t border-gray-300 my-4"></div>

      <br>
      <div class="text-center">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300"
          (click)="saveChanges(company.enterprise_id)">
          Guardar cambios
        </button>
      </div>

    </div> -->



  </div>



<!-- Modal itself, shown only when `isModalOpen` is true -->
<div *ngIf="isModalOpen" class="fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75">
  <div class="bg-white p-6 rounded-lg shadow-lg">
    <h2 class="text-xl font-semibold mb-4">¿Está seguro que desea continuar?</h2>
    
    <p class="mb-4">los cambios no guardados se perderán</p>
    <div class="flex justify-end">
      <button (click)="confirm()" class="bg-green-500 text-white px-4 py-2 rounded mr-2">Continuar</button>
      <button (click)="cancel()" class="bg-red-500 text-white px-4 py-2 rounded">Cancelar</button>
    </div>
  </div>
</div>  

</div>